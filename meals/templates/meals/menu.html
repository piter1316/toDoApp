<div class="col-12 col-md-4 col-xl-2 mb-2 ">
  <div class="nav flex-column nav-pills bg-light p-3 rounded shadow" id="v-pills-tab" role="tablist" aria-orientation="vertical">
    <a class="btn btn-outline-secondary text-center mb-1" href="{% url 'meals:index' %}">JADŁOSPIS</a>
    <a class="btn btn-outline-secondary text-center mb-1" href="{% url 'meals:edit_meals' %}">POSIŁKI</a>
    <!-- Button trigger modal -->
    {% if in_meals_list %}
    <div class="dropdown-divider"></div>
    <button type="button" class="btn btn-outline-info btn-block mb-1" data-toggle="modal" data-target="#newMealsListModal">
      Generuj nowy jadłospis
    </button>
    <a href="{% url 'meals:purge_meals_list' %}" class="btn btn-outline-danger btn-block mt-0" onclick="return confirm('Wyczyścić jadłospis?')">
      Wyczyść jadłospis
    </a>
    {% endif %}
    <!-- Modal -->
    <div class="modal fade" id="newMealsListModal" tabindex="-1" role="dialog" aria-hidden="true">
      <form action="{% url 'meals:generate_meals_list' %}" method="post" class="modal-dialog modal-dialog-centered" role="document">
        {% csrf_token %}
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Generacja nowego jadłospisu</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-row" id="meal_options_form">
              {% for option in user_meals_options %}
                <div class="col-6">
                  <label><input class="mealsOptions" type="checkbox" value="{{option.id}}" name="mealsOptions[]" checked id="{{option}}">{{option|upper}}</label>
                </div>
              {% endfor %}
            </div>
            <hr id="meal_options_form_hr" class="p-1 m-0">
            <div class="form-row">
              <div class="input-group mb-3">
                <input type="hidden" value="{{maximum_no_of_days_to_generate}}" id="maximum_no_of_days_to_generate">
                <input class="form-control" type="number" name="howManyDays" value="1" id="howManyDays" min="1">
                <div class="input-group-append">
                  <label class="input-group-text" for="howManyDays">Na ile dni</label>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="input-group mb-3">
                <select class="form-control" name="first_day" id="first_day">
                  {% for day in first_day_input_list %}
                  <option value="{{day.id}}">{{day}}</option>
                  {% endfor %}
                </select>
                <div class="input-group-append">
                  <label class="input-group-text" for="first_day">Pierwszy dzień</label>
                </div>
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked id="twice_the_same_meal" name="twice_the_same_meal">
                  <label class="form-check-label" for="twice_the_same_meal">
                    Jeden posiłek przez dwa dni?
                  </label>
                </div>
              </div>
            </div>
            {% if meals_list %}
            <div class="form-row">
              <div class="form-group">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox"  id="append_existing" name="append_existing">
                  <label class="form-check-label" for="append_existing">
                    Dodaj do istniejącego
                  </label>
                </div>
              </div>
            </div>
            {% if maximum_no_of_days_to_generate_no_repeat > 0 %}
            <div class="form-row">
              <div class="form-group">
                <div class="form-check">
                  <input type="hidden" id="maximum_no_of_days_to_generate_no_repeat" value="{{maximum_no_of_days_to_generate_no_repeat}}">
                  <input class="form-check-input" type="checkbox" checked id="no_repetition" name="no_repetition">
                  <label class="form-check-label" for="no_repetition">
                    Nie powtarzaj posiłków z obecnego jadłospisu
                  </label>
                </div>
              </div>
            </div>
            {% endif %}
            {% endif %}
            <div class="form-row">
              <div class="form-group">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox"  id="empty_meals_list" name="empty_meals_list">
                  <label class="form-check-label" for="empty_meals_list">
                    SAM WYBIERAM DANIA
                  </label>
                </div>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Anuluj</button>
            <button type="submit" class="btn btn-primary">Generuj</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>